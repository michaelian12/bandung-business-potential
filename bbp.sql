drop database if exists bbp;
create database bbp;
use bbp;

create table kecamatan (
  id_kecamatan int primary_key,
  nama_kecamatan varchar(50) NOT NULL
)engine=innodb;

INSERT INTO kecamatan (id_kecamatan, nama_kecamatan) VALUES
(1, 'Andir'),
(2, 'Antapani'),
(3, 'Arcamanik'),
(4, 'Astanaanyar'),
(5, 'Babakanciparay'),
(6, 'Bandung Kidul'),
(7, 'Bandung Kulon'),
(8, 'Bandung Wetan'),
(9, 'Batununggal'),
(10, 'Bojongloa Kaler'),
(11, 'Bojongloa Kidul'),
(12, 'Buahbatu'),
(13, 'Cibeunying Kaler'),
(14, 'Cibeunying Kidul'),
(15, 'Cibiru'),
(16, 'Cicendo'),
(17, 'Cidadap'),
(18, 'Cinambo'),
(19, 'Coblong'),
(20, 'Gedebage'),
(21, 'Kiaracondong'),
(22, 'Lengkong'),
(23, 'Mandalajati'),
(24, 'Panyileukan'),
(25, 'Rancasari'),
(26, 'Regol'),
(27, 'Sukajadi'),
(28, 'Sukasari'),
(29, 'Sumurbandung'),
(30, 'Ujungberung');

create table kelurahan (
  id_kelurahan int primary_key,
  nama_kelurahan varchar(50) NOT NULL,
  kode_pos varchar(5) NOT NULL,
  id_kecamatan int NOT NULL,
  foreign key (id_kecamatan) references kecamatan(id_kecamatan)
)engine=innodb;

INSERT INTO kelurahan (id_kelurahan, nama_kelurahan, kode_pos, id_kecamatan) VALUES
(1, 'Campaka', '40184', 1),
(2, 'Ciroyom', '40182', 1),
(3, 'Dunguscariang', '40183', 1),
(4, 'Garuda', '40184', 1),
(5, 'Kebonjeruk', '40181', 1),
(6, 'Maleber', '40184', 1),
(7, 'Antapani Kidul', '40291', 2),
(8, 'Antapani Kulon', '40291', 2),
(9, 'Antapani Tengah', '40291', 2),
(10, 'Antapani Wetan', '40291', 2),
(11, 'Cisaranten Endah', '40293', 3),
(12, 'Cisaranten Kulon', '40293', 3),
(13, 'Cisaranten Bina Harapan', '40294', 3),
(14, 'Sukamiskin', '40293', 3),
(15, 'Cibadak', '40241', 4),
(16, 'Karangannyar', '40241', 4),
(17, 'Karasak', '40243', 4),
(18, 'Nyengseret', '40242', 4),
(19, 'Panjunan', '40242', 4),
(20, 'Pelindunghewan', '40243', 4),
(21, 'Babakan', '40222', 5),
(22, 'Babakanciparay', '40223', 5),
(23, 'Cirangrang', '40227', 5),
(24, 'Margahayu Utara', '40224', 5),
(25, 'Margasuka', '40225', 5),
(26, 'Sukahaji', '40221', 5),
(27, 'Batununggal', '40266', 6),
(28, 'Kujangsari', '40287', 6)
(29, 'Mengger', '40267', 6),
(30, 'Wates', '40256', 6),
(31, 'Caringin', '40212', 7),
(32, 'Cibuntu', '40212', 7),
(33, 'Cigondewah', '40214', 7),
(34, 'Cigondewah Kidul', '40214', 7),
(35, 'Cigondewah Rahayu', '40215', 7),
(36, 'Cijerah', '40213', 7),
(37, 'Gempolsari', '40215', 7),
(38, 'Warungmuncang', '40211', 7),
(39, 'Cihapit', '40114', 8),
(40, 'Citarum', '40115', 8),
(40, 'Tamansari', '40116', 8),
(40, 'Binong', '40275', 9),
(40, 'Cibangkong', '40273', 9),
(40, 'Gumuruh', '40275', 9),
(40, 'Kacapiring', '40271', 9),
(40, 'Kebongedang', '40274', 9),
(40, 'Kebonwaru', '40272', 9),
(40, 'Maleer', '40274', 9),
(40, 'Samoja', '40273', 9),
(40, 'Babakan Asih', '40232', 10),
(50, 'Babakan Tarogong', '40232', 10),
(50, 'Jamika', '40231', 10),
(50, 'Kopo', '40233', 10),
(50, 'Suka Asih', '40231', 10),
(50, 'Cibaduyut', '40236', 11),
(50, 'Cibaduyut Kidul', '40239', 11),
(50, 'Cibaduyut Wetan', '40238', 11),
(50, 'Kebon Lega', '40235', 11),
(50, 'Mekarwangi', '40237', 11),
(50, 'Situsaeur', '40237', 11),
(60, 'Cijawura', '40287', 12),
(60, 'Jatisari', '40286', 12),
(60, 'Margasari', '40286', 12),
(60, 'Sekejati', '40287', 12),
(60, 'Cigadung', '40191', 13),
(60, 'Cihaurgeulis', '40122', 13),
(60, 'Neglasari', '40124', 13),
(60, 'Sukaluyu', '40123', 13),
(60, 'Cicadas', '40121', 14),
(60, 'Cikutra', '40124', 14),
(70, 'Padasuka', '40125', 14),
(70, 'Pasirlayung', '40192', 14),
(70, 'Sukamaju', '40121', 14),
(70, 'Sukapada', '40125', 14),
(70, 'Cipadung', '40614', 15),
(70, 'Cisurupan', '40614', 15),
(70, 'Palasari', '40615', 15),
(70, 'Pasirbiru', '40615', 15),
(70, 'Arjuna', '40172', 16),
(70, 'Husen Sastranegara', '40174', 16),
(80, 'Pajajaran', '40173', 16),
(80, 'Pamoyanan', '40173', 16),
(80, 'Pasirkaliki', '40171', 16),
(80, 'Sukaraja', '40175', 16),
(80, 'Ciumbuleuit', '40142', 17),
(80, 'Hegarmanah', '40141', 17),
(80, 'Ledeng', '40143', 17),
(80, 'Babakan Penghulu', '40294', 18),
(80, 'Cisaranten Wetan', '40294', 18),
(80, 'Pakemitan', '40294', 18),
(90, 'Sukamulya', '40294', 18),
(90, 'Cipaganti', '40131', 19),
(90, 'Dago', '40135', 19),
(90, 'Lebakgede', '40132', 19),
(90, 'Lebaksiliwangi', '40132', 19),
(90, 'Sadangserang', '40133', 19),
(90, 'Sekeloa', '40134', 19),
(90, 'Cimincrang', '40294', 20),
(90, 'Cisaranten', '40294', 20),
(90, 'Rancabolang', '40294', 20),
(100, 'Rancanumpang', '40294', 20),
(100, 'Babakansari', '40283', 21),
(100, 'Babakansurabaya', '40281', 21),
(100, 'Cicaheum', '40282', 21),
(100, 'Kebon Kangkung', '40283', 21),
(100, 'Kebunjayanti', '40281', 21),
(100, 'Sukapura', '40285', 21),
(100, 'Burangrang', '40262', 22),
(100, 'Cijagra', '40265', 22),
(100, 'Cikawao', '40261', 22),
(110, 'Lingkar Selatan', '40263', 22),
(110, 'Malabar', '40262', 22),
(110, 'Paledang', '40264', 22),
(110, 'Turangga', '40264', 22),
(110, 'Jatihandap', '40195', 23),
(110, 'Karangpamulang', '40195', 23),
(110, 'Pasir Impun', '40195', 23)
(110, 'Sindangjaya', '40195', 23),
(110, 'Cipadung Kidul', '40614', 24),
(110, 'Cipadung Kulon', '40614', 24),
(110, 'Cipadung Wetan', '40614', 24),
(120, 'Mekarmulya', '40614', 24),
(120, 'Cipamokolan', '40292', 25),
(120, 'Darwati', '40292', 25),
(120, 'Manjahlega', '40295', 25),
(120, 'Mekarmulya', '40292', 25),
(120, 'Ancol', '40254', 26),
(120, 'Balonggede', '40251', 26),
(120, 'Ciateul', '40252', 26),
(120, 'Cigereleng', '40253', 26),
(120, 'Ciseureuh', '40255', 26),
(130, 'Pasirluyu', '40254', 26),
(130, 'Pungkur', '40252', 26),
(130, 'Cipedes', '40162', 27),
(130, 'Pasteur', '40161', 27),
(130, 'Sukabungah', '40162', 27),
(130, 'Sukagalih', '40163', 27),
(130, 'Sukawarna', '40164', 27),
(130, 'Gegerkalong', '40153', 28),
(130, 'Isola', '40154', 28),
(130, 'Sarijadi', '40151', 28),
(140, 'Sukarasa', '40152', 28),
(140, 'Babakanciamis', '40117', 29),
(140, 'Braga', '40111', 29),
(140, 'Kebonpisang', '40112', 29),
(140, 'Merdeka', '40113', 29),
(140, 'Cigending', '40611', 30),
(140, 'Pasanggrahan', '40617', 30),
(140, 'Pasirendah', '40619', 30),
(140, 'Pasirjati', '40616', 30),
(140, 'Pasirwangi', '40618', 30),
(150, 'Ujung Berung', '40611', 30);

create table datauser(
ktp_user varchar(20) primary key,
password varchar(255),
nama_user varchar(50),
tempat_lahir varchar(50),
tanggal_lahir date,
jk enum('Pria','Wanita'),
alamat varchar(200),
rt_user varchar(2),
rw_user varchar(2),
email varchar(100) unique
)engine=innodb;

create table daftarpengajuan(
id_pengajuan int primary key auto_increment,
ktp_user varchar(20),
status_kepemilikan enum('Pemilik','Penyewa','Pengelola','Pemakai','Sengketa'),
alamat_jalan_objek varchar(50),
alamat_nomor_objek varchar(20),
kelurahan_objek enum('Campaka','Ciroyom','Dunguscariang','Garuda','Kebonjeruk','Maleber','Antapani Kidul','Antapani Kulon','Antapani Tengah','Antapani Wetan','Cisaranten Endah','Cisaranten Kulon','Cisaranten Bina Harapan','Sukamiskin','Cibadak','Karangannyar','Karasak','Nyengseret','Panjunan','Pelindunghewan','Babakan','Babakanciparay','Cirangrang','Margahayu Utara','Margasuka','Sukahaji','Batununggal','Mengger','Wates','Carinigin','Cibuntu','Cigondewah','Cigondewah Kidul','Cigondewah Rahayu','Cijerah','Gempolsari','Warungmuncang','Cihapit','Citarum','Tamansari','Binong','Cibangkong','Gumuruh','Kacapiring','Kebongedang','Kebonwaru','Maleer','Samoja','Babakan Asih','Babakan Tarogong','Jamika','Kopo','Suka Asih','Cibaduyut','Cibaduyut Kidul','Cibaduyut Wetan','Kebon Lega','Mekarwangi','Situsaeur','Cijawura','Jatisari','Margasari','Sekejati','Cigadung','Cihaurgeulis','Neglasari','Sukaluyu','Cicadas','Cikutra','Padasuka','Pasirlayung','Sukamaju','Sukapada','Cipadung','Cisurupan','Palasari','Pasirbiru','Arjuna','Husen Sastranegara','Pajajaran','Pamoyanan','Pasirkaliki','Sukaraja','Ciumbuleuit','Hegarmanah','Ledeng','Babakan Penghulu','Cisaranten Wetan','Pakemitan','Sukamulya','Cipaganti','Dago','Lebakgede','Lebaksiliwangi','Sadangserang','Sekeloa','Cimincrang','Cisaranten','Rancabolang','Rancanumpang','Babakansari','Babakansurabaya','Cicaheum','Kebon Kangkung','Kebunjayanti','Sukapura','Burangrang','Cijagra','Cikawao','Lingkar Selatan','Malabar','Paledang','Turangga','Jatihandap','Karangpamulang','Sindangjaya','Cipadung Kidul','Cipadung Kulon','Cipadung Wetan','Mekarmulya','Cipamokolan','Darwati','Manjahlega','Mekarmulya','Ancol','Balonggede','Ciateul','Cigereleng','Ciseureuh','Pasirluyu','Pungkur','Cipedes','Pasteur','Sukabungah','Sukagalih','Sukawarna','Gegerkalong','Isola','Sarijadi','Sukarasa','Babakanciamis','Braga','Kebonpisang','Merdeka','Cigending','Pasanggrahan','Pasirendah','Pasirjati','Pasirwangi','Ujungberung'),
rw_objek varchar(2),
rt_objek varchar(2),
luas_tanah int,
jenis_tanah enum('Tanah + Bangunan','Kavling Siap Bangun','Tanah Kosong','Fasilitas Umum'),
guna_bangunan enum('Perumahan','Perkantoran Swasta','Pabrik','Toko / Apotik / Pasar / Ruko','Rumah Sakit / Klinik','Olah raga / Rekreasi','Hotel / Wisma','Bengkel / Gudang / Pertanian','Gedung Pemerintahan','Lain-lain','Bangunan Tidak Kena Pajak','Bangunan Parkir','Apartemen','Pompa Bensin','Tangki Minyak','Gedung Sekolah'),
luas_bangunan int,
jumlah_tingkat int,
tahun_dibangun year,
tahun_direnovasi year,
daya_listrik int,
kondisi enum('Sangat Baik','Baik','Sedang','Jelek'),
konstruksi enum('Baja Decarbon','Beton','Batu Bata','Kayu'),
atap enum('Beton / Genteng Glazur','Genteng Beton / Alumunium','Genteng Biasa / Sirap','Asbes','Seng'),
dinding enum('Kaca / Alumunium','Beton','Batu Bata / Conblok','Kayu','Seng'),
lantai enum('Marmer','Keramik','Teraso','Ubin PC / Papan','Semen'),
langitlangit enum('Akustik / Jati','Triplek / Asbes Bambu','Tidak Ada'),
ktp_subjek varchar(20),
pekerjaan enum('PNS','ABRI','Pensiunan','Badan','Lainnya'),
nama_subjek varchar(50),
npwp varchar(15),
alamat_jalan_subjek varchar(50),
alamat_nomor_subjek varchar(20),
kelurahan_subjek varchar(40),
rw_subjek varchar(2),
rt_subjek varchar(2),
kota varchar(30),
kode_pos varchar(7),
status enum('Disetujui','Tidak Disetujui','Belum Disetujui')
)engine=innodb;

create table datasubjek(
ktp_subjek varchar(20) primary key,
pekerjaan enum('PNS','ABRI','Pensiunan','Badan','Lainnya'),
nama_subjek varchar(50),
npwp varchar(15),
alamat_jalan_subjek varchar(50),
alamat_nomor_subjek varchar(20),
kelurahan_subjek varchar(40),
rw_subjek varchar(2),
rt_subjek varchar(2),
kota varchar(30),
kode_pos varchar(7)
)engine=innodb;

create table dataobjek(
nop varchar(18) primary key,
ktp_subjek varchar(20),
ktp_user varchar(20),
status_kepemilikan enum('Pemilik','Penyewa','Pengelola','Pemakai','Sengketa'),
alamat_jalan_objek varchar(50),
alamat_nomor_objek varchar(20),
kelurahan_objek enum('Campaka','Ciroyom','Dunguscariang','Garuda','Kebonjeruk','Maleber','Antapani Kidul','Antapani Kulon','Antapani Tengah','Antapani Wetan','Cisaranten Endah','Cisaranten Kulon','Cisaranten Bina Harapan','Sukamiskin','Cibadak','Karangannyar','Karasak','Nyengseret','Panjunan','Pelindunghewan','Babakan','Babakanciparay','Cirangrang','Margahayu Utara','Margasuka','Sukahaji','Batununggal','Mengger','Wates','Caringin','Cibuntu','Cigondewah','Cigondewah Kidul','Cigondewah Rahayu','Cijerah','Gempolsari','Warungmuncang','Cihapit','Citarum','Tamansari','Binong','Cibangkong','Gumuruh','Kacapiring','Kebongedang','Kebonwaru','Maleer','Samoja','Babakan Asih','Babakan Tarogong','Jamika','Kopo','Suka Asih','Cibaduyut','Cibaduyut Kidul','Cibaduyut Wetan','Kebon Lega','Mekarwangi','Situsaeur','Cijawura','Jatisari','Margasari','Sekejati','Cigadung','Cihaurgeulis','Neglasari','Sukaluyu','Cicadas','Cikutra','Padasuka','Pasirlayung','Sukamaju','Sukapada','Cipadung','Cisurupan','Palasari','Pasirbiru','Arjuna','Husen Sastranegara','Pajajaran','Pamoyanan','Pasirkaliki','Sukaraja','Ciumbuleuit','Hegarmanah','Ledeng','Babakan Penghulu','Cisaranten Wetan','Pakemitan','Sukamulya','Cipaganti','Dago','Lebakgede','Lebaksiliwangi','Sadangserang','Sekeloa','Cimincrang','Cisaranten','Rancabolang','Rancanumpang','Babakansari','Babakansurabaya','Cicaheum','Kebon Kangkung','Kebunjayanti','Sukapura','Burangrang','Cijagra','Cikawao','Lingkar Selatan','Malabar','Paledang','Turangga','Jatihandap','Karangpamulang','Sindangjaya','Cipadung Kidul','Cipadung Kulon','Cipadung Wetan','Mekarmulya','Cipamokolan','Darwati','Manjahlega','Mekarmulya','Ancol','Balonggede','Ciateul','Cigereleng','Ciseureuh','Pasirluyu','Pungkur','Cipedes','Pasteur','Sukabungah','Sukagalih','Sukawarna','Gegerkalong','Isola','Sarijadi','Sukarasa','Babakanciamis','Braga','Kebonpisang','Merdeka','Cigending','Pasanggrahan','Pasirendah','Pasirjati','Pasirwangi','Ujungberung'),
rw_objek varchar(2),
rt_objek varchar(2),
luas_tanah int,
jenis_tanah enum('Tanah + Bangunan','Kavling Siap Bangun','Tanah Kosong','Fasilitas Umum'),
njop_bumi int,
guna_bangunan enum('Perumahan','Perkantoran Swasta','Pabrik','Toko / Apotik / Pasar / Ruko','Rumah Sakit / Klinik','Olah raga / Rekreasi','Hotel / Wisma','Bengkel / Gudang / Pertanian','Gedung Pemerintahan','Lain-lain','Bangunan Tidak Kena Pajak','Bangunan Parkir','Apartemen','Pompa Bensin','Tangki Minyak','Gedung Sekolah'),
luas_bangunan int,
jumlah_tingkat int,
tahun_dibangun year,
tahun_direnovasi year,
daya_listrik int,
kondisi enum('Sangat Baik','Baik','Sedang','Jelek'),
konstruksi enum('Baja Decarbon','Beton','Batu Bata','Kayu'),
atap enum('Beton / Genteng Glazur','Genteng Beton / Alumunium','Genteng Biasa / Sirap','Asbes','Seng'),
dinding enum('Kaca / Alumunium','Beton','Batu Bata / Conblok','Kayu','Seng'),
lantai enum('Marmer','Keramik','Teraso','Ubin PC / Papan','Semen'),
langitlangit enum('Akustik / Jati','Triplek / Asbes Bambu','Tidak Ada'),
njop_bangunan int,
njop_dasar int,
foreign key (ktp_subjek) references datasubjek(ktp_subjek),
foreign key (ktp_user) references datauser(ktp_user)
)engine=innodb;

create table pembayaran(
id_pembayaran int primary key auto_increment,
nop varchar(18),
tahun_pajak year,
nama_bank varchar(50),
no_rekening varchar(50),
pemilik_rekening varchar(50),
tanggal_bayar date,
ktp_user varchar(20),
bukti varchar(255),
status enum("Belum Diterima, Diterima"),
foreign key (ktp_user) references datauser(ktp_user)
)engine=innodb;

create table tagihan(
nop varchar(18),
tahun_pajak year,
id_pembayaran int,
nama_subjek varchar(50),
pokok int,
denda int,
jumlah_tagihan int,
tgl_jatuh_tempo date,
jumlah_bulan int,
status_kelunasan enum('Belum Lunas','Lunas'),
primary key (nop, tahun_pajak),
foreign key (id_pembayaran) references pembayaran(id_pembayaran)
)engine=innodb;

create table dataadmin(
nip varchar(10) primary key,
password varchar(255),
nama_admin varchar(50),
email varchar(100)
)engine=innodb

INSERT INTO 'dataadmin' ('nip', 'password', 'nama_admin') VALUES
('10113050', 'faV8P3yq81o6VaeyeNnBelnh80iiiETVL0lPUAKLfpE=', 'Michael Agustian', 'michaelian12@gmail.com'),
('10113054', 'bgODWkZE3zeYqfiFIwk0LbeRJiX02nKjsxFeJs9igKk=', 'Muhammad Faizal Alfarisi', 'faizal.alfarisi@gmail.com'),
('10113070', 'fvqEq89xjN0zMoSzCTsaDSMYeEQ03D+P7p7QQ6XNnp0=', 'Samsul Arifin', 'samsul3070@gmail.com'),
('10113290', 'wPJfqAQ1jhe46RAy3h4jD3yEK1VT6i+aBVcRaI9MiPQ=', 'Jaka Pratama', 'jakapratama204@gmail.com');
