drop database if exists bbp;
create database bbp;
use bbp;

create table kecamatan (
  id_kecamatan int primary key,
  nama_kecamatan varchar(50)
) engine = innodb;

insert into kecamatan (id_kecamatan, nama_kecamatan) values
(1, 'Andir'),
(2, 'Antapani'),
(3, 'Arcamanik'),
(4, 'Astanaanyar'),
(5, 'Babakanciparay'),
(6, 'Bandung Kidul'),
(7, 'Bandung Kulon'),
(8, 'Bandung Wetan'),
(9, 'Batununggal'),
(10, 'Bojongloa Kaler'),
(11, 'Bojongloa Kidul'),
(12, 'Buahbatu'),
(13, 'Cibeunying Kaler'),
(14, 'Cibeunying Kidul'),
(15, 'Cibiru'),
(16, 'Cicendo'),
(17, 'Cidadap'),
(18, 'Cinambo'),
(19, 'Coblong'),
(20, 'Gedebage'),
(21, 'Kiaracondong'),
(22, 'Lengkong'),
(23, 'Mandalajati'),
(24, 'Panyileukan'),
(25, 'Rancasari'),
(26, 'Regol'),
(27, 'Sukajadi'),
(28, 'Sukasari'),
(29, 'Sumurbandung'),
(30, 'Ujungberung');

create table kelurahan (
  id_kelurahan int primary key,
  nama_kelurahan varchar(50),
  kode_pos varchar(5),
  id_kecamatan int,
  foreign key (id_kecamatan) references kecamatan(id_kecamatan)
) engine = innodb;

insert into kelurahan (id_kelurahan, nama_kelurahan, kode_pos, id_kecamatan) values
(1, 'Campaka', '40184', 1),
(2, 'Ciroyom', '40182', 1),
(3, 'Dunguscariang', '40183', 1),
(4, 'Garuda', '40184', 1),
(5, 'Kebonjeruk', '40181', 1),
(6, 'Maleber', '40184', 1),
(7, 'Antapani Kidul', '40291', 2),
(8, 'Antapani Kulon', '40291', 2),
(9, 'Antapani Tengah', '40291', 2),
(10, 'Antapani Wetan', '40291', 2),
(11, 'Cisaranten Endah', '40293', 3),
(12, 'Cisaranten Kulon', '40293', 3),
(13, 'Cisaranten Bina Harapan', '40294', 3),
(14, 'Sukamiskin', '40293', 3),
(15, 'Cibadak', '40241', 4),
(16, 'Karangannyar', '40241', 4),
(17, 'Karasak', '40243', 4),
(18, 'Nyengseret', '40242', 4),
(19, 'Panjunan', '40242', 4),
(20, 'Pelindunghewan', '40243', 4),
(21, 'Babakan', '40222', 5),
(22, 'Babakanciparay', '40223', 5),
(23, 'Cirangrang', '40227', 5),
(24, 'Margahayu Utara', '40224', 5),
(25, 'Margasuka', '40225', 5),
(26, 'Sukahaji', '40221', 5),
(27, 'Batununggal', '40266', 6),
(28, 'Kujangsari', '40287', 6),
(29, 'Mengger', '40267', 6),
(30, 'Wates', '40256', 6),
(31, 'Caringin', '40212', 7),
(32, 'Cibuntu', '40212', 7),
(33, 'Cigondewah', '40214', 7),
(34, 'Cigondewah Kidul', '40214', 7),
(35, 'Cigondewah Rahayu', '40215', 7),
(36, 'Cijerah', '40213', 7),
(37, 'Gempolsari', '40215', 7),
(38, 'Warungmuncang', '40211', 7),
(39, 'Cihapit', '40114', 8),
(40, 'Citarum', '40115', 8),
(41, 'Tamansari', '40116', 8),
(42, 'Binong', '40275', 9),
(43, 'Cibangkong', '40273', 9),
(44, 'Gumuruh', '40275', 9),
(45, 'Kacapiring', '40271', 9),
(46, 'Kebongedang', '40274', 9),
(47, 'Kebonwaru', '40272', 9),
(48, 'Maleer', '40274', 9),
(49, 'Samoja', '40273', 9),
(50, 'Babakan Asih', '40232', 10),
(51, 'Babakan Tarogong', '40232', 10),
(52, 'Jamika', '40231', 10),
(53, 'Kopo', '40233', 10),
(54, 'Suka Asih', '40231', 10),
(55, 'Cibaduyut', '40236', 11),
(56, 'Cibaduyut Kidul', '40239', 11),
(57, 'Cibaduyut Wetan', '40238', 11),
(58, 'Kebon Lega', '40235', 11),
(59, 'Mekarwangi', '40237', 11),
(60, 'Situsaeur', '40237', 11),
(61, 'Cijawura', '40287', 12),
(62, 'Jatisari', '40286', 12),
(63, 'Margasari', '40286', 12),
(64, 'Sekejati', '40287', 12),
(65, 'Cigadung', '40191', 13),
(66, 'Cihaurgeulis', '40122', 13),
(67, 'Neglasari', '40124', 13),
(68, 'Sukaluyu', '40123', 13),
(69, 'Cicadas', '40121', 14),
(70, 'Cikutra', '40124', 14),
(71, 'Padasuka', '40125', 14),
(72, 'Pasirlayung', '40192', 14),
(73, 'Sukamaju', '40121', 14),
(74, 'Sukapada', '40125', 14),
(75, 'Cipadung', '40614', 15),
(76, 'Cisurupan', '40614', 15),
(77, 'Palasari', '40615', 15),
(78, 'Pasirbiru', '40615', 15),
(79, 'Arjuna', '40172', 16),
(80, 'Husen Sastranegara', '40174', 16),
(81, 'Pajajaran', '40173', 16),
(82, 'Pamoyanan', '40173', 16),
(83, 'Pasirkaliki', '40171', 16),
(84, 'Sukaraja', '40175', 16),
(85, 'Ciumbuleuit', '40142', 17),
(86, 'Hegarmanah', '40141', 17),
(87, 'Ledeng', '40143', 17),
(88, 'Babakan Penghulu', '40294', 18),
(89, 'Cisaranten Wetan', '40294', 18),
(90, 'Pakemitan', '40294', 18),
(91, 'Sukamulya', '40294', 18),
(92, 'Cipaganti', '40131', 19),
(93, 'Dago', '40135', 19),
(94, 'Lebakgede', '40132', 19),
(95, 'Lebaksiliwangi', '40132', 19),
(96, 'Sadangserang', '40133', 19),
(97, 'Sekeloa', '40134', 19),
(98, 'Cimincrang', '40294', 20),
(99, 'Cisaranten', '40294', 20),
(100, 'Rancabolang', '40294', 20),
(101, 'Rancanumpang', '40294', 20),
(102, 'Babakansari', '40283', 21),
(103, 'Babakansurabaya', '40281', 21),
(104, 'Cicaheum', '40282', 21),
(105, 'Kebon Kangkung', '40283', 21),
(106, 'Kebunjayanti', '40281', 21),
(107, 'Sukapura', '40285', 21),
(108, 'Burangrang', '40262', 22),
(109, 'Cijagra', '40265', 22),
(110, 'Cikawao', '40261', 22),
(111, 'Lingkar Selatan', '40263', 22),
(112, 'Malabar', '40262', 22),
(113, 'Paledang', '40264', 22),
(114, 'Turangga', '40264', 22),
(115, 'Jatihandap', '40195', 23),
(116, 'Karangpamulang', '40195', 23),
(117, 'Pasir Impun', '40195', 23),
(118, 'Sindangjaya', '40195', 23),
(119, 'Cipadung Kidul', '40614', 24),
(120, 'Cipadung Kulon', '40614', 24),
(121, 'Cipadung Wetan', '40614', 24),
(122, 'Mekarmulya', '40614', 24),
(123, 'Cipamokolan', '40292', 25),
(124, 'Darwati', '40292', 25),
(125, 'Manjahlega', '40295', 25),
(126, 'Mekarmulya', '40292', 25),
(127, 'Ancol', '40254', 26),
(128, 'Balonggede', '40251', 26),
(129, 'Ciateul', '40252', 26),
(130, 'Cigereleng', '40253', 26),
(131, 'Ciseureuh', '40255', 26),
(132, 'Pasirluyu', '40254', 26),
(133, 'Pungkur', '40252', 26),
(134, 'Cipedes', '40162', 27),
(135, 'Pasteur', '40161', 27),
(136, 'Sukabungah', '40162', 27),
(137, 'Sukagalih', '40163', 27),
(138, 'Sukawarna', '40164', 27),
(139, 'Gegerkalong', '40153', 28),
(140, 'Isola', '40154', 28),
(141, 'Sarijadi', '40151', 28),
(142, 'Sukarasa', '40152', 28),
(143, 'Babakanciamis', '40117', 29),
(144, 'Braga', '40111', 29),
(145, 'Kebonpisang', '40112', 29),
(146, 'Merdeka', '40113', 29),
(147, 'Cigending', '40611', 30),
(148, 'Pasanggrahan', '40617', 30),
(149, 'Pasirendah', '40619', 30),
(150, 'Pasirjati', '40616', 30),
(151, 'Pasirwangi', '40618', 30),
(152, 'Ujung Berung', '40611', 30);

create table sektor_usaha (
  id_sektor int primary key,
  nama_sektor varchar(255)
) engine = innodb;

insert into sektor_usaha (id_sektor, nama_sektor) values
(1, 'Periklanan'),
(2, 'Arsitektur'),
(3, 'Pasar Barang Seni'),
(4, 'Kerajinan'),
(5, 'Desain'),
(6, 'Fashion'),
(7, 'Video'),
(8, 'Film dan Fotografi'),
(9, 'Permainan Interaktif'),
(10, 'Musik'),
(11, 'Seni Pertunjukan'),
(12, 'Penerbitan dan Percetakan'),
(13, 'Layanan Komputer dan Piranti Lunak'),
(14, 'Televisi dan Radio'),
(15, 'Riset dan Pengembangan'),
(16, 'Kuliner');

create table skala_usaha (
  id_skala int(11) primary key,
  nama_skala varchar(255)
) engine = innodb;

insert into skala_usaha (id_skala, nama_skala) values
(1, 'Mikro'),
(2, 'Kecil'),
(3, 'Menengah');

create table user (
  ktp varchar(18) primary key,
  nama varchar(50),
  email varchar(50) unique,
  password varchar(255),
  alamat varchar(50),
  tempat_lahir varchar(25),
  tanggal_lahir date,
  foto_ktp varchar(255),
  foto_user varchar(255),
  status enum('aktif','deaktif')
) engine = innodb;

create table usaha (
  id_usaha int primary key,
  nama_usaha varchar(150),
  produk_utama varchar(150),
  id_skala int,
  id_sektor int,
  alamat varchar(150),
  id_kelurahan int,
  telepon varchar(13),
  latitude double,
  longitude double,
  status enum('aktif','deaktif'),
  foto_usaha varchar(255),
  ktp varchar(18),
  foreign key (id_skala) references skala_usaha(id_skala),
  foreign key (id_sektor) references sektor_usaha(id_sektor),
  foreign key (ktp) references user(ktp)
) engine = innodb;

create table admin (
  nip varchar(18) primary key,
  nama varchar(50),
  email varchar(50) unique,
  password varchar(255)
) engine = innodb;
